(function(){var a,b,c,d;d=window.tu={},$(window).load(function(){return $(".container").outerHeight(!0)<$(window).height()&&$("body").addClass("is-not-full-height"),d.appMessage.init()}),d.appMessage={create:function(a,b){var c,e;return null==b&&(b="info"),d.appMessage.destroy(),e="content","warning"===b&&(e+=" fa-override-before fa-exclamation-triangle"),"success"===b&&(e+=" fa-override-before fa-check-circle"),c=$('<div class="app-message" style="display: none">\n  <div class="'+e+'">'+a+'</div>\n  <a href="#" class="app-message-close"><i class="fa fa-times-circle icon"></i></a>\n</div>'),null!=b&&""!==b&&c.addClass("app-message-"+b),$("#section-header, #section-navbar").append(c),$(".app-message").fadeIn(150),$("body").addClass("app-message-visible")},destroy:function(){return $(".app-message").fadeOut(150),$("body").removeClass("app-message-visible")},init:function(){return $("body").on("click",".app-message .app-message-close",function(a){return a.preventDefault(),d.appMessage.destroy()}),"undefined"!=typeof app_message&&null!==app_message&&null!=app_message.msg&&null!=app_message.type?d.appMessage.create(app_message.msg,app_message.type):void 0}},c=function(){var a,b,c,d;return a=$("#container-navbar"),d=$("#container-what").offset().top,$(window).scrollTop()>d&&0===$("#container-navbar-sticky").length&&(b=a.clone().attr("id","container-navbar-sticky").addClass("sticky").css("top",-1*a.outerHeight()),c=b.find(".section").attr("id","section-navbar-sticky"),b.find(".nav").remove(),c.append($("#section-signup-bottom .signup-buttons").clone()),$("body").append(b),b.animate({top:0})),$(window).scrollTop()<d&&1===$("#container-navbar-sticky").length?$("#container-navbar-sticky").animate({top:-120},function(){return $(this).remove()}):void 0},b=function(a){return null!=a.match(/^([0-9a-zA-Z]){12}$/gi)},a=function(a){var c,d;return a.length?(d=a.val().replace(/\s/g,""),c=a.parents(".marketing-form"),c.find(".help-block").remove(),""!==d&&b(d)?!0:(c.append('<div class="help-block">That code doesn’t seem right. Check it and try again?</a>',c),!1)):void 0},$(function(){return $("body").hasClass("landing")&&$(window).scroll(function(){return c()}),$.getJSON("https://api.tumblr.com/v2/blog/thinkupapp.tumblr.com/posts/text?api_key=IQYCrVox6Ltyy4IqbbJWoIM9Czw0WzPGgzKWPg69WEFIa5mTtm&limit=3&callback=?",function(a){var b,c,d,e,f,g,h,i,j,k;if(null!=a&&null!=(i=a.response)?i.posts.length:void 0){for(e=["January","February","March","April","May","June","July","August","September","October","November","December"],b=$("#subsection-blog .blog-posts"),j=a.response.posts,k=[],g=0,h=j.length;h>g;g++)f=j[g],c=new Date(1e3*f.timestamp),d=""+e[c.getMonth()]+" "+c.getDate()+", "+c.getFullYear(),k.push(b.append('<li class="blog-post"><div class="date">'+d+'</div>\n<a href="'+f.post_url+'" class="permalink">'+f.title+"</a></li>"));return k}}),$("#form-contact").submit(function(a){var b,c,d;return a.preventDefault(),b=$(this),d=b.find("#control-subject option:selected").text(),"Choose…"===d&&(d="ThinkUp Help"),c=b.find("#control-body").val(),window.location.href="mailto:help@thinkup.com?subject="+encodeURI(d)+"&body="+encodeURI(c)}),$("body").on("click","#btn-claim-code",function(a){return a.preventDefault(),$("#form-claim-code").toggleClass("hidden"),$(this).hide()}),$("#form-claim-code").on("submit",function(b){return a($(this).find("#claim_code"))?void 0:b.preventDefault()}),$("body").on("click","#container-signup-top .btn-twitter, #container-signup-top .btn-facebook",function(){return ga("send","event","Signup Button","click","homepage (top)")}),$("body").on("click","#container-signup-bottom .btn-twitter, #container-signup-bottom .btn-facebook",function(){return ga("send","event","Signup Button","click","homepage (bottom)")}),$("body").on("click","#marketing-subscribe .btn-twitter, #marketing-subscribe .btn-facebook",function(){return ga("send","event","Signup Button","click","pricing")}),$("body").on("click",".navbar-marketing .btn-signup",function(){return ga("send","event","Signup Button","click","marketing navbar")})})}).call(this);